
# ğŸ–¥ï¸ ê°œë°œìë˜ê³ íŒŒ íŒ€ì˜ ë‚´ë°°ìº  ì¸ê¸°ì˜í™” ì½œë ‰ì…˜
![ë©”ì¸í˜ì´ì§€](./img/readme/mainpage.png)

## í”„ë¡œì íŠ¸ ì†Œê°œ
- ê°œì¸ê³¼ì œì—ì„œ ì‘ì„±í•œ [ë‚´ë°°ìº  ì¸ê¸°ì˜í™” ì½œë ‰ì…˜]ì„ ë°œì „ì‹œí‚¤ëŠ” íŒ€ í”„ë¡œì íŠ¸
- íŒ€ì›ë“¤ì˜ í”„ë¡œì íŠ¸ Nê°œ ì¤‘ 1ê°œë¥¼ ëŒ€í‘œë¡œ ì„ íƒ, íŒ€ í”„ë¡œì íŠ¸ë¡œ ë°œì „
- TMDB(KR) ì˜¤í”ˆ APIë¥¼ ì´ìš©í•œ ì¸ê¸° ì˜í™” ì½œë ‰ì…˜

<br>

## íŒ€ì› êµ¬ì„±
- íŒ€ì¥ : ê¹€ì •ì°¬ [@jkc-mycode](https://github.com/jkc-mycode)
- íŒ€ì› : ì¡°ë¯¼ìˆ˜ [@CMINSOO](https://github.com/CMINSOO)
- íŒ€ì› : ì´ë™íš¨ [@hyodong2](https://github.com/hyodong2)
- íŒ€ì› : ìœ¤ë™í˜‘ [@ydh1503](https://github.com/ydh1503)
- íŒ€ì› : ì‹ ì´ì§€ë‹ˆ [@shinleejini](https://github.com/shinleejini)
- íŒ€ì› : ì„œë™í˜„ [@lucetaseo](https://github.com/lucetaseo)

<br>

## 1. ê°œë°œ ê¸°ê°„
- 2024.05.01 ~ 2024.05.09

<br>

## 2. ê°œë°œ í™˜ê²½
- FrontEnd : HTML, CSS, JavaScript, Bootstrap
- API : [TMDB](https://developer.themoviedb.org/reference/intro/getting-started)

<br>

## 3. ì—­í•  ë¶„ë°°
- **ê¹€ì •ì°¬**
  - ì½”ë“œ ë³‘í•©
  - íŒ€ì›ë“¤ì˜ ê¸°ëŠ¥ êµ¬í˜„ ë„ì›€
- **ì¡°ë¯¼ìˆ˜**
  - ì˜í™” ìƒì„¸ í˜ì´ì§€ êµ¬í˜„
  - ì˜í™” ìƒì„¸ í˜ì´ì§€ ë””ìì¸
  - ì‹œì—° ì˜ìƒ ì´¬ì˜
- **ì´ë™íš¨**
  - ì˜í™” ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
- **ìœ¤ë™í˜‘**
  - ë©”ì¸ ìŠ¬ë¼ì´ë“œ êµ¬í˜„
  - ì˜í™” ì¹´ë“œ ìŠ¬ë¼ì´ë“œ êµ¬í˜„
  - ë©”ì¸ í˜ì´ì§€ ë””ìì¸
- **ì‹ ì´ì§€ë‹ˆ**
  - ì¹´í…Œê³ ë¦¬ ë³„ ì˜í™” ê²€ìƒ‰ êµ¬í˜„
  - ë©”ì¸ í˜ì´ì§€ ë””ìì¸
- **ì„œë™í˜„**
  - ë¦¬ë·° ê¸°ëŠ¥ êµ¬í˜„
  - ë°œí‘œì

<br>

## 4. ì™€ì´ì–´ í”„ë ˆì„
![alt text](./img/wireframe_1.png)
![alt text](./img/wireframe_2.png)

<br>

## 5. ì£¼ìš” ê¸°ëŠ¥
### 5-1. ì œëª© ê²€ìƒ‰ ê¸°ëŠ¥
- ì›ë˜ ê°œì¸ê³¼ì œì—ì„œ êµ¬í˜„ë˜ì–´ì•¼ í•  ê¸°ëŠ¥ì„

- ê²€ìƒ‰ ê¸°ëŠ¥ì´ êµ¬í˜„ëœ ì½”ë“œëŠ” ì´ë¯¸ ëª¨ë“ˆí™”ë˜ì–´ ìˆì–´ì„œ íŒ€ì›ë“¤ì´ ë³´ê¸° ë¶ˆí¸í•¨

- ê·¸ë˜ì„œ ê¸°ë³¸ í‹€ë§Œ êµ¬ì„±ëœ ì½”ë“œì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•¨

- ì œëª©ì„ ì…ë ¥í•˜ê³  ê²€ìƒ‰ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ ì˜í™”ì˜ ì¹´ë“œê°€ ì¶œë ¥ë¨
![ê²€ìƒ‰ í›„ ì´ë¯¸ì§€](./img/readme/title_search_result.png)

- ê·¸ë˜ê³  ì œëª©ì„ ì…ë ¥í•˜ê³  ì—”í„°ë¥¼ ëˆ„ë¥´ë©´ ë§ˆì°¬ê°€ì§€ë¡œ ê²€ìƒ‰ì´ ë¨
```javascript
// ì œëª©ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” í•¨ìˆ˜
async function executeSearch() {
    document.getElementById("movieCard").innerHTML = " ";
    document.getElementById("movie_slide").innerHTML = " ";
    document.getElementById("movieCard_wrapper").innerHTML = " ";

    const data = await getData();
    data.forEach(async function (item) {
        await makeCard(item);
    });

    const searchText = document.getElementById("searchInput").value.toLowerCase();
    const cards = document.querySelectorAll(".search_cards");

    // display ì˜µì…˜ì„ í†µí•´ì„œ ë³´ì¼ì§€ ìˆ¨ê¸¸ì§€ ê²°ì •
    cards.forEach(function (card) {
        const title = card.querySelector(".card_title").textContent.toLowerCase();
        if (title.includes(searchText)) {
            card.style.display = "block";
        } else {
            card.style.display = "none";
        }
    });
}
```

<br>

### 5-2. ì¹´í…Œê³ ë¦¬ ë³„ ê²€ìƒ‰ ê¸°ëŠ¥
- ì œëª© ê²€ìƒ‰ ì™¸ì—ë„ ì¹´í…Œê³ ë¦¬(ì¥ë¥´)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰í•˜ëŠ” ê¸°ëŠ¥ë„ êµ¬í˜„í•¨

- ì˜í™” ë°ì´í„°ì—ëŠ” `genre` ë¼ëŠ” ë°°ì—´ ë°ì´í„°ê°€ ì£¼ì–´ì§

- ë“œë¡­ë‹¤ìš´ ë°•ìŠ¤ë¥¼ í†µí•´ì„œ ì¥ë¥´ë¥¼ ì„ íƒí•˜ë©´ ê·¸ ì¥ë¥´ì˜ ì˜í™”ë§Œ ì¶œë ¥ë¨

- ì¥ë¥´ë¥¼ ì„ íƒí•˜ë©´ ë“œë¡­ë‹¤ìš´ ë°•ìŠ¤ì— í˜„ì¬ ì„ íƒí•œ ì¹´í…Œê³ ë¦¬(ì¥ë¥´)ê°€ ë³´ì„
![ì¥ë¥´ ê²€ìƒ‰ ì´ë¯¸ì§€](./img/readme/category_search.png)
![ì¥ë¥´ ê²€ìƒ‰ ì´ë¯¸ì§€](./img/readme/category_search_result.png)

```javascript
// ì¥ë¥´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì¹´ë“œë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜
const loadGenreData = (movieDataList, genreId, genreName) => {
    let searchedMovies = [];

    movieDataList.forEach(item => {
        if (item.genre_ids.includes(Number(genreId))) {
            searchedMovies.push(item)
        }
    });

    document.getElementById("movieCard").innerHTML = " ";
    document.getElementById("movie_slide").innerHTML = " ";
    document.getElementById("movieCard_wrapper").innerHTML = " ";

    searchedMovies.forEach(async item => {
        await makeCard(item);
    });

    document.querySelector("#dropdown_btn").innerText = genreName;
}
```


<br>

### 5-3. Top 10 ì˜í™” ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ ê¸°ëŠ¥
- í˜„ì¬ ì˜í™”ë“¤ ì¤‘ ìƒìœ„ 10ê°œ ì˜í™”ì˜ ì´ë¯¸ì§€ë¥¼ ìŠ¬ë¼ì´ë“œë¡œ ë³´ì—¬ì¤Œ

- ê° ì˜í™”ë§ˆë‹¤ ì´ë¯¸ì§€ë¥¼ `fetch` ë¥¼ í†µí•´ APIì—ì„œ ê°€ì ¸ì˜´

- ê° ì˜í™”ì˜ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ë™ì‹œì— ì§„í–‰ê°€ê¸° ìœ„í•´ì„œ `Promise.all()` ë¥¼ ì‚¬ìš©
![ë©”ì¸ í˜ì´ì§€ ìŠ¬ë¼ì´ë“œ](./img/readme/main_slide.png)

```javascript
// ê° ì˜í™”ì˜ ì´ë¯¸ì§€ë¥¼ ëª¨ì•„ì„œ 
const getImgData = async function () {
    const totalData = await getData();

    return await Promise.all(totalData.map(async (item) => (
        item.slide_poster_path = await matchImageById(item.id)
    )))
        .then(() => {
            return totalData;
        })
        .catch((error) => {
            // ì˜¤ë¥˜ ì²˜ë¦¬
            console.error("ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.", error);
        });
};


// ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ idë¡œ TMDB APIì—ì„œ ë°ì´í„° fetchí•˜ëŠ” í•¨ìˆ˜
const matchImageById = async function (id) {
    const response = await fetch("https://api.themoviedb.org/3/movie/" + id + "/images", options);
    const data = await response.json();

    return data.backdrops[0].file_path;
};
```


<br>

### 5-4. ì˜í™” ì¹´ë“œ ìŠ¬ë¼ì´ë“œ ê¸°ëŠ¥
- ì „ì²´ ì˜í™”ë¥¼ ì¢Œìš°ì˜ ìŠ¬ë¼ì´ë“œ ë²„íŠ¼ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥

- ìŠ¬ë¼ì´ë“œëŠ” ì²˜ìŒê³¼ ëì´ ì—°ê²°ëœ ë£¨í”„ í˜•íƒœ
![ì¹´ë“œ ìŠ¬ë¼ì´ë“œ ì´ˆê¸° ìƒíƒœ](./img/readme/card_slide_init.png)
![ì¹´ë“œ ìŠ¬ë¼ì´ë“œ ë£¨í”„ ìƒíƒœ](./img/readme/card_slide_loop.png)

- ì½”ë“œê°€ ê¸¸ì–´ì„œ ìì„¸í•œ ì½”ë“œëŠ” ê¹ƒí—ˆë¸Œ ì°¸ì¡°
```javascript
// ìŠ¬ë¼ì´ë“œ ì¹´ë“œ ë§Œë“œëŠ” í•¨ìˆ˜
export async function makeSlideCard(item) {
    const innerContents = `
            <li class="card" id= "mvcard_${item.id}">
                <a href = "./detail.html?${item.id}">
                    <img src="https://image.tmdb.org/t/p/w500${item.poster_path}" class="card-img-top" alt="ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘">
                </a>
            </li>
        `;

    $movieCards.insertAdjacentHTML("beforeend", innerContents);
}


// ìŠ¬ë¼ì´ë“œ ì¹´ë“œ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
export async function print() {
    const data = await getData();
    let count = 0;
    Promise.all(
        data.map(async function (item) {
            await makeSlideCard(item);
            slideCount++;
        })
    ).then((res) => {
        $movieCardLi = document.querySelectorAll(".movieCards>li");
        makeClone();
    });

    // Next, Prev ë²„íŠ¼ìœ¼ë¡œ ì¹´ë“œ ìŠ¬ë¼ì´ë“œ ë™ì‘í•˜ëŠ” ì´ë²¤íŠ¸ ì¶”ê°€ (ë¬´í•œë£¨í”„)
    $nextBtn.addEventListener("click", function () {
        moveCardSlide(currentIdx + 1);
        console.log($movieCardLi);
    });
    $prevBtn.addEventListener("click", function () {
        moveCardSlide(currentIdx - 1);
    });
}
```



<br>

### 5-5. ì˜í™” ìƒì„¸ í˜ì´ì§€ ê¸°ëŠ¥
- ë©”ì¸ í™”ë©´ì—ì„œ ì˜í™” ì¹´ë“œ í´ë¦­ ì‹œ ì˜í™” ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™
![ìƒì„¸í˜ì´ì§€ í™”ë©´](./img/readme/movie_detail.png)

- ìƒì„¸í˜ì´ì§€ì—ì„œëŠ” ì˜í™”ì˜ ìƒì„¸ì •ë³´, ì¶œì—°ì§„ ì •ë³´, íŠ¸ë ˆì¼ëŸ¬ ì˜ìƒ ì •ë³´ë¥¼ ê°€ì ¸ì˜´

- ê·¸ë˜ì„œ ì´ 3ê°œì˜ APIë¥¼ ì‚¬ìš©í•¨
```javascript
//  ì˜í™” ê°ë… ì¶œì—°ì§„ ì •ë³´ì— ëŒ€í•œ apiê°€ì ¸ì˜¤ê¸°
async function getCredit(id) {
    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/credits?language=ko-KR`, options);
    const data = await response.json();
    console.log(data);

    const newMovieCredit = [];
    newMovieCredit.push(data.cast);
    newMovieCredit.push(data.crew);

    return newMovieCredit;
}


//  ì˜í™”íŠ¸ë ˆì¼ëŸ¬ api
async function getVideo(id) {
    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}/videos?language=ko-KR`, options);
    const data = await response.json();
    console.log(data);
    let newVideo;
    newVideo = data.results;

    return newVideo;
}


// ì˜í™”ë””í…Œì¼ api
async function getDetail(id) {
    const response = await fetch(`https://api.themoviedb.org/3/movie/${id}?language=ko-KR`, options);
    const data = await response.json();
    let newDetail;
    newDetail = data;

    return newDetail;
}
```

<br>

### 5-6. ì˜í™” ë¦¬ë·° ê¸°ëŠ¥
- ì˜í™” ë¦¬ë·° ê¸°ëŠ¥ì€ í•´ë‹¹ ì˜í™” ìƒì„¸í˜ì´ì§€ì—ì„œ ì‘ì„± ê°€ëŠ¥

- ì‘ì„±ì, ë¹„ë°€ë²ˆí˜¸, ë‚´ìš©ì„ ì…ë ¥í•˜ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ localStorageì— í•´ë‹¹ ëŒ“ê¸€ì´ ì €ì¥ë¨

- ì˜í™” IDë¥¼ Keyê°’ìœ¼ë¡œ ì‚¬ìš©í•´ì„œ ë°ì´í„° ì €ì¥
![ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì´ë¯¸ì§€1](./img/readme/localstorage1.png)
![ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì´ë¯¸ì§€2](./img/readme/localstorage2.png)
![ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì´ë¯¸ì§€3](./img/readme/localstorage3.png)

- ì‘ì„±í•œ ë¦¬ë·°ëŠ” ë¦¬ë·° ì‘ì„±ë€ ë°‘ìœ¼ë¡œ ìŒ“ì´ê²Œ ë¨
![ë¦¬ë·° ì‘ì„± í›„ ê²°ê³¼ ì´ë¯¸ì§€](./img/readme/review_result.png)

```javascript
// ëŒ“ê¸€ ì‘ì„± í•¨ìˆ˜
export function addComment() {
    let name = document.getElementById('reviewer').value;
    let password = document.getElementById('review_pass').value;
    let review = document.getElementById('review_content').value;
    let movieId = document.getElementById('movieId').value;

    // í˜„ì¬ ë‚ ì§œ ë° ì‹œê°„ ê°€ì ¸ì˜¤ê¸°
    let today = new Date();
    let date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();
    let time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
    let dateTime = date + ' ' + time;

    let commentId = generateUniqueId(); // ëŒ“ê¸€ ê³ ìœ  ì•„ì´ë”” ìƒì„±

    // ëŒ“ê¸€ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
    let commentsKey = 'comments_' + window.location.href; // í˜ì´ì§€ URLì„ í‚¤ë¡œ ì‚¬ìš©
    let comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
    comments.push({ id: commentId, name: name, password: password, review: review, dateTime: dateTime, movieId: movieId });
    localStorage.setItem(commentsKey, JSON.stringify(comments));

    document.getElementById('reviewer').value = '';
    document.getElementById('review_pass').value = '';
    document.getElementById('review_content').value = '';
}
```


<br>

## 6. í˜ì´ì§€ ì‚¬ì§„ ì²¨ë¶€
![ì‚¬ì´íŠ¸ ë©”ì¸ í˜ì´ì§€](./img/readme/mainpage.png)
![ì œëª© ê²€ìƒ‰ ê²°ê³¼](./img/readme/title_search_result.png)
![ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰ ê²°ê³¼](./img/readme/category_search_result.png)
![ì‚¬ì´íŠ¸ ìƒì„¸í˜ì´ì§€](./img/readme/movie_detail.png)
![ë¦¬ë·° ì‘ì„± ê²°ê³¼](./img/readme/review_result.png)


<br>

## 7. ì–´ë ¤ì› ë˜ ì 
### 7-1. ì—­í•  ë¶„ë°°ì˜ ì–´ë ¤ì›€ (ê¹€ì •ì°¬)
- ì½”ë“œ êµ¬í˜„ì´ ì–´ë ¤ìš´ íŒ€ì›ë“¤ë„ ìˆê¸° ë•Œë¬¸ì— í•„ìˆ˜ ê¸°ëŠ¥ êµ¬í˜„ì„ ëª©í‘œë¡œ í•¨
  
- í•„ìˆ˜ ê¸°ëŠ¥ì„ ìš°ì„ ìœ¼ë¡œ ë¶„ë°°í•˜ëŠ”ë°, ì¸ì› ìˆ˜ ë§Œí¼ ë¶„ë°°í•˜ê¸° ì–´ë ¤ì› ìŒ

- ê·¸ë˜ì„œ ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³¸ íŒ€ì¥(ê¹€ì •ì°¬)ì—ê²Œ ë”°ë¡œ ê¸°ëŠ¥ì„ ë§¡ê¸°ì§€ ì•Šê³  íŒ€ì›ë“¤ì˜ ê¸°ëŠ¥ êµ¬í˜„ì— ë„ì›€ì„ ì£¼ë„ë¡ í•¨

- ì¼ì¢…ì˜ ì¤‘ê°„ ë©˜í†  ì—­í• ì„ í•¨

